<!DOCTYPE html>
<html>
<head>
    <!--Import Google Icon Font-->
    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link rel="stylesheet" href="css/materialize.min.css">
    <link href="css/main.css" type="text/css" rel="stylesheet">

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>

<body>

<ul class="side-nav fixed collapsible" data-collapsible="accordion">
    <li><a href="/" class="bold">Financial app</a></li>
    <div class="divider"></div>
    <li><a href="/" class="waves-effect">Dashboard</a></li>
    <li><a href="#" class="waves-effect collapsible-header">Transactions</a>
        <ul class="collapsible-body">
            <li><a href="/incomes">Incomes</a></li>
            <li><a href="/expenses">Expenses</a></li>
        </ul>
    </li>
    <li><a href="/stats" class="waves-effect collapsible-header">Stats</a>
        <ul class="collapsible-body">
            <li><a href="#">Incomes</a></li>
            <li><a href="#">Expenses</a></li>
        </ul>
    </li>
</ul>
<main>
    <div class="container">
        <div class="row">
            <div class="col s12 m2">
                <div class="card-panel teal">
                    <span id="buget" class="white-text">Buget:<span></span></span>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col s12 m8 l8">
                <div id="transactions" class="collection">

                </div>
                <div id="actions" class="fixed-action-btn" style="bottom: 45px; right: 25px;">
                    <button class="btn-floating btn-large tooltipped blue" id="showCategoryModal" data-delay="50"
                            data-position="top" data-tooltip="Add new category">
                        <i class="material-icons">library_add</i>
                    </button>
                    <button class="btn-floating btn-large tooltipped green" id="showIncomeModal" data-delay="50"
                            data-position="top" data-tooltip="Add income" data-type="income">
                        <i class="material-icons">add</i>
                    </button>
                    <button class="btn-floating btn-large tooltipped red" id="showExpenseModal" data-delay="50"
                            data-position="top" data-tooltip="Add expense" data-type="expense">
                        <i class="material-icons">remove</i>
                    </button>
                </div>
            </div>
        </div>
    </div>
</main>


<div id="delete-modal" class="modal">
    <div class="modal-content">
        <p>Are you sure you want to delete this entry?</p>
    </div>
    <div class="modal-footer">
        <a href="#" class="modal-action modal-close waves-effect waves-red btn-flat">No</a>
        <a id="yesBtn" href="#" class="modal-action modal-close waves-effect waves-green btn-flat">Yes</a>
    </div>
</div>


<script type="text/template" id="entry-template">

    <div class="row no-margin <%= className %>">
        <div class="col s5">
            <p class="collections-title">
                <b>Name: </b><span id="name"><%= name %></span>
            </p>
            <p class="collections-content">
                <b>Value: </b><span id="value"><%= value %></span>
            </p>
        </div>
        <div class="col s4">
            <p class="collections-title">
                <span class="task-cat red" id="category"><a href="/category/<%= category %>"><%= category %></a></span>
                <b>Date:</b><span id="date"><%= date %></span>
            </p>
        </div>
        <div class="col s3">
            <p class="collections-title">
                <a href="#" class="waves-effect btn-small btn-flat right">
                    <span class="badge tooltipped"  data-position="top" data-tooltip="Delete" data-delay="50">
                        <i id="delete" class="material-icons" data-type="<%= type %>">close</i>
                    </span>
                </a>
                <a href="#" class="waves-effect btn-small btn-flat right">
                    <span class="badge tooltipped" data-position="top" data-tooltip="Edit" data-delay="50">
                        <i id="edit" class="material-icons right">edit</i>
                    </span>
                </a>
            </p>
        </div>
    </div>
</script>

<script type="text/template" id="modal-template">
    <div id="modal" class='modal col m4 l4 center-align'>
        <div class="modal-content">
            <% if(type=="edit") { %>
            <h4>Edit</h4>
            <% } else {%>
            <h4>Add new <%= type %></h4>
            <% } %>
            <div class="row">
                <div class="input-field col s12 m12">
                    <input type="text" placeholder="default entry" name="name" id="name"/>
                    <label class="active" for="name">Name:</label>
                </div>
            </div>

            <div class="row">
                <div class="input-field col s12 m12">
                    <input type="text" placeholder="default entry" name="value" id="value"/>
                    <label class="active" for="value">Value:</label>
                </div>
            </div>

            <div class="row">
                <div class="input-field col s12 m12">
                    <select id="category" name="category">
                        <% for(var i in categories) { %>
                        <option name="<%= categories[i].get('name') %>"><%= categories[i].get('name') %></option>
                        <% } %>
                    </select>
                    <label class="active" for="category">Category:</label>
                </div>
            </div>

            <div class="row">
                <div class="input-field col s12 m12">
                    <input type="date" class="datepicker" name="date" id="date"/>
                    <label class="active" for="date">Date:</label>
                </div>
            </div>

        </div>
        <div class="modal-footer">
            <% if(type=="income") { %>
            <button class="btn-flat modal-close waves-effect" id="addIncome">Add Income</button>
            <% }else if(type=="expense") { %>
            <button class="btn-flat modal-close waves-effect" id="addExpense">Add Expense</button>
            <% }else if(type=="edit") { %>
            <button class="btn-flat modal-close waves-effect" id="editEntry">Done</button>
            <% } %>
        </div>
    </div>
</script>

<script type="text/template" id="category-modal">
    <div id="category-modal" class="modal">
        <div class="modal-content">
            <h4>Add a new category</h4>
            <div class="row">
                <div class="input-field col s12 m12">
                    <input type="text" name="category" id="category">
                    <label for="category">Category name:</label>
                </div>
                <div class="input-field col s12 m12">
                    <select data-color="red" name="category-type" id="category-type">
                        <option value="1">Income</option>
                        <option value="2">Expense</option>
                    </select>
                    <label for="category-type">Category type:</label>
                </div>
                <div class="input-field col s12 m12">
                    <select name="color" id="color">
                        <option value="1">DA</option>
                        <option value="2">NU</option>
                    </select>
                    <label for="color">Choose a color for this category:</label>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn-flat modal-close waves-effect" id="addCategory">Add Category</button>
        </div>
    </div>
</script>
<!-- ========= -->
<!-- Libraries -->
<!-- ========= -->
<script src="js/vendors/jquery.js" type="text/javascript"></script>
<script src="js/vendors/underscore.js" type="text/javascript"></script>
<script src="js/vendors/backbone.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.12.0/moment.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.12.0/locale/ro.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/randomcolor/0.4.4/randomColor.js" type="text/javascript"></script>
<script src="js/vendors/materialize.min.js"></script>


<!-- =============== -->
<!-- Javascript code -->
<!-- =============== -->
<script src="js/views/Entry.js" type="text/javascript"></script>
<script src="js/models/Entry.js" type="text/javascript"></script>
<script src="js/collections/Transactions.js" type="text/javascript"></script>
<script src="js/views/EntriesList.js" type="text/javascript"></script>
<script src="js/models/Category.js" type="text/javascript"></script>
<script src="js/collections/Categories.js" type="text/javascript"></script>
<script src="js/views/App.js" type="text/javascript"></script>
<script src="js/main.js" type="text/javascript"></script>

</body>
</html>
